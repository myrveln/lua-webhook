# Webhook Configuration
# Include this file inside an existing server {} block in your nginx.conf
# Example:
#   server {
#       listen 80;
#       server_name yourdomain.com;
#
#       include /path/to/webhook/nginx-example.conf;
#   }

# Webhook endpoint
# WebSocket endpoint (streams events). Exact match keeps it isolated from
# REST-only directives like default_type / request-body handling.
location = /webhook/_ws {
    # Update this path to your webhook.lua location
    content_by_lua_file /path/to/webhook/webhook.lua;
}

location ~ ^/webhook(/.*)?$ {
    lua_need_request_body on;
    client_max_body_size 2M;
    default_type 'application/json';

    # Update this path to your webhook.lua location
    content_by_lua_file /path/to/webhook/webhook.lua;
}
